/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
create table Autor (oid varchar(32) not null, nombre varchar(50), primary key (oid))
create table Categoria (oid varchar(32) not null, nombre varchar(50), primary key (oid))
create table Cliente (oid varchar(32) not null, direccion varchar(255), nombre varchar(50), numero integer, primary key (oid))
create table Factura (oid varchar(32) not null, anyo integer, fecha date, numero integer, observaciones varchar(255), cliente_oid varchar(32) not null, primary key (oid))
create table Factura_detalles (Factura_oid varchar(32) not null, cantidad integer not null, producto_oid varchar(32))
create table Producto (oid varchar(32) not null, descripcion varchar(50), numero integer, precio double, autor_oid varchar(32), categoria_oid varchar(32), primary key (oid))
alter table Factura add constraint FK9wj6kodor0k4xrtg3omm0l9cs foreign key (cliente_oid) references Cliente
alter table Factura_detalles add constraint FKraecruxh8da5gpayuidpo1gfg foreign key (producto_oid) references Producto
alter table Factura_detalles add constraint FKpl16p1cpo7r84s75asx5db9nq foreign key (Factura_oid) references Factura
alter table Producto add constraint FKmtkejrnklbkimttu99b9jqufw foreign key (autor_oid) references Autor
alter table Producto add constraint FKc81rcy0vfdn5ewnap5scabhd3 foreign key (categoria_oid) references Categoria
INSERT INTO CLIENTE VALUES('8aeef03d9a4bb128019a4bb339500000','Estupido chavalo que no sabe hacer nada','Rene Sandoval',1)
COMMIT
INSERT INTO AUTOR VALUES('8aeef03d9a4bb128019a4bb3c3b60001','Rene Sandoval')
COMMIT
INSERT INTO CATEGORIA VALUES('8aeef03d9a4bb128019a4bb4b36f0002','Software')
COMMIT
INSERT INTO CATEGORIA VALUES('8aeef03d9a4bb128019a4bb536e40003','CyL')
COMMIT
INSERT INTO PRODUCTO VALUES('8aeef03d9a4bb128019a4bb59eaf0004','MITIO',1,1213.0E0,'8aeef03d9a4bb128019a4bb3c3b60001','8aeef03d9a4bb128019a4bb536e40003')
COMMIT
INSERT INTO AUTOR VALUES('8aeef03d9a4bb128019a4bb61e7a0005','Joseph')
COMMIT
INSERT INTO FACTURA VALUES('8aeef03d9a4bb128019a4bba0afb0006',2025,'2025-11-03',1,'El maje es bien tonto','8aeef03d9a4bb128019a4bb339500000')
INSERT INTO FACTURA_DETALLES VALUES('8aeef03d9a4bb128019a4bba0afb0006',0,NULL)
COMMIT
DELETE FROM FACTURA_DETALLES WHERE FACTURA_OID='8aeef03d9a4bb128019a4bba0afb0006' AND CANTIDAD=0 AND PRODUCTO_OID IS NULL
INSERT INTO FACTURA_DETALLES VALUES('8aeef03d9a4bb128019a4bba0afb0006',2,NULL)
COMMIT
